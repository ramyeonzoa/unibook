<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
</head>
<body>
<!-- Admin 사이드바 Fragment -->
<div th:fragment="sidebar(currentPage)" class="col-md-3 col-lg-2 admin-sidebar">
  <div class="py-4">
    <h5 class="px-3 text-muted fw-bold mb-3">관리자 메뉴</h5>
    <nav>
      <a th:href="@{/admin}" class="admin-nav-link" th:classappend="${currentPage == 'dashboard'} ? 'active' : ''">
        <i class="bi bi-speedometer2 me-2"></i>대시보드
      </a>
      <a th:href="@{/admin/reports}" class="admin-nav-link" th:classappend="${currentPage == 'reports'} ? 'active' : ''">
        <i class="bi bi-exclamation-triangle me-2"></i>신고 관리
        <span th:if="${pendingReports != null && pendingReports > 0}"
              class="badge bg-danger ms-2"
              th:text="${pendingReports}">0</span>
      </a>
      <a th:href="@{/admin/users}" class="admin-nav-link" th:classappend="${currentPage == 'users'} ? 'active' : ''">
        <i class="bi bi-people me-2"></i>사용자 관리
      </a>
      <a th:href="@{/admin/posts}" class="admin-nav-link" th:classappend="${currentPage == 'posts'} ? 'active' : ''">
        <i class="bi bi-file-post me-2"></i>게시글 관리
      </a>
      <a th:href="@{/admin/statistics}" class="admin-nav-link" th:classappend="${currentPage == 'statistics'} ? 'active' : ''">
        <i class="bi bi-graph-up me-2"></i>통계
      </a>
      <a th:href="@{/admin/recommendations}" class="admin-nav-link" th:classappend="${currentPage == 'recommendations'} ? 'active' : ''">
        <i class="bi bi-stars me-2"></i>추천 메트릭
      </a>
      <a th:href="@{/admin/cache-stats}" class="admin-nav-link" th:classappend="${currentPage == 'cache-stats'} ? 'active' : ''">
        <i class="bi bi-lightning-charge me-2"></i>캐시 모니터링
      </a>
    </nav>
  </div>
</div>

<!-- Admin 사이드바 스타일 Fragment -->
<style th:fragment="styles">
  .admin-sidebar {
    min-height: calc(100vh - 76px);
    background: #f8f9fa;
    border-right: 1px solid #dee2e6;
  }

  .admin-nav-link {
    color: #495057;
    text-decoration: none;
    padding: 12px 20px;
    display: block;
    border-radius: 8px;
    margin: 4px 8px;
    transition: all 0.2s ease;
  }

  .admin-nav-link:hover {
    background: #e9ecef;
    color: #495057;
  }

  .admin-nav-link.active {
    background: #667eea;
    color: white;
  }

  /* 다크모드 */
  [data-bs-theme="dark"] .admin-sidebar {
    background: var(--bs-gray-800);
    border-right-color: var(--bs-gray-700);
  }

  [data-bs-theme="dark"] .admin-nav-link {
    color: var(--bs-gray-300);
  }

  [data-bs-theme="dark"] .admin-nav-link:hover {
    background: var(--bs-gray-700);
    color: var(--bs-gray-100);
  }
</style>

</body>
</html>
